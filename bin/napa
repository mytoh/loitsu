#!/usr/bin/env mosh

(import
  (scheme base)
  (scheme process-context)
  (scheme write)
  (scheme file)
  (napa))

(define (main args)
  (cond
    ((directory-git?)
     (display  (git (cdr args))))
    ((file-exists?  ".hg")
     (hg  (cdr args)))
    ((file-exists?  ".svn")
     (svn (cdr args)))
    ((file-exists?  "CVS")
     (cvs (cdr args)))
    ((file-exists?  "_darcs")
     (darcs (cdr args)))
    (else
      (git (cdr args)))))

(main (command-line))

;; vim:filetype=scheme
